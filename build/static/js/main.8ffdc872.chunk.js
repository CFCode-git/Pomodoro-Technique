(this["webpackJsonppomodoro-technique"]=this["webpackJsonppomodoro-technique"]||[]).push([[0],{168:function(e,t,n){e.exports=n(316)},177:function(e,t,n){},197:function(e,t,n){},225:function(e,t,n){},230:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},278:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},307:function(e,t,n){},316:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(4),c=n.n(r),s=n(18),i=n(62),u=n(45),l=Object(i.b)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return[].concat(Object(u.a)(e),[t.payload]);case"INIT_TODOS":return Object(u.a)(t.payload);case"UPDATE_TODO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case"EDIT_TODO":return e.map((function(e){return e.id===t.payload?Object.assign({},e,{editing:!0}):Object.assign({},e,{editing:!1})}));default:return e}},tomatoes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOMATO":return[t.payload].concat(Object(u.a)(e));case"INIT_TOMATOES":return Object(u.a)(t.payload);case"UPDATE_TOMATO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}}}),d=Object(i.c)(l),p=(n(177),n(9)),m=n(10),f=n(12),h=n(11),v=n(46),T=n(27),b="";b="/Pomodoro-Technique";var E=Object(T.a)({basename:b}),O=(n(56),n(19)),y=(n(74),n(32)),g=n(13),j=n.n(g),k=n(16),w=n(319),C=n(142),D=n.n(C).a.create({baseURL:"https://gp-server.hunger-valley.com/",headers:{"t-app-id":"gxd4HcnaxxFM64hcN4nJmawQ","t-app-secret":"uYmMu1oVickC7zdox6L7TLJ3"}});D.interceptors.request.use((function(e){var t=localStorage.getItem("x-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return console.error(e),Promise.reject(e)})),D.interceptors.response.use((function(e){return e.headers["x-token"]&&localStorage.setItem("x-token",e.headers["x-token"]),e}),(function(e){return 401===e.response.status&&E.push("/login"),Promise.reject(e)}));var x,N=D,_=n(70),I=(n(197),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onChange=function(e,t){a.setState((function(){var n={};return n[e]=t,n}))},a.submit=Object(k.a)(j.a.mark((function e(){var t,n,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.account,o=t.password,e.prev=1,e.next=4,N.post("sign_in/user",{account:n,password:o});case 4:console.log("\u6210\u529f"),a.props.history.push("/"),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),a.state={account:"",password:""},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.account,a=t.password;return o.a.createElement("div",{className:"Login",id:"Login"},o.a.createElement("h1",null,"\u6b22\u8fce\u4f7f\u7528\u756a\u8304\u95f9\u949f"),o.a.createElement(y.a,{placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d",prefix:o.a.createElement(w.a,{className:"site-form-item-icon"}),value:n,onChange:function(t){return e.onChange("account",t.target.value)}}),o.a.createElement(y.a.Password,{value:a,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(t){return e.onChange("password",t.target.value)}}),o.a.createElement("div",{className:"buttonWrapper"},o.a.createElement(O.a,{type:"primary",shape:"round",className:"loginButton",onClick:this.submit},"\u767b\u5f55"),o.a.createElement("p",null,"\u8fd8\u6ca1\u6709\u8d26\u53f7\u5417\uff1f",o.a.createElement(_.a,{to:"/signup"}," \u6ce8\u518c ")," \u4e00\u4e0b\u5427~")))}}]),n}(o.a.Component)),M=(n(225),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onChange=function(e,t){a.setState((function(){var n={};return n[e]=t,n}))},a.submit=Object(k.a)(j.a.mark((function e(){var t,n,o,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.account,o=t.password,r=t.passwordConformation,e.prev=1,e.next=4,N.post("sign_up/user",{account:n,password:o,password_confirmation:r});case 4:console.log("\u6210\u529f"),a.props.history.push("/"),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),a.state={account:"",password:"",passwordConformation:""},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.account,a=t.password,r=t.passwordConformation;return o.a.createElement("div",{className:"SignUp",id:"SignUp"},o.a.createElement("h1",null,"\u6ce8\u518c"),o.a.createElement(y.a,{placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d",prefix:o.a.createElement(w.a,{className:"site-form-item-icon"}),value:n,onChange:function(t){return e.onChange("account",t.target.value)}}),o.a.createElement(y.a.Password,{value:a,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(t){return e.onChange("password",t.target.value)}}),o.a.createElement(y.a.Password,{value:r,placeholder:"\u8bf7\u786e\u8ba4\u5bc6\u7801",onChange:function(t){return e.onChange("passwordConformation",t.target.value)}}),o.a.createElement("div",{className:"buttonWrapper"},o.a.createElement(O.a,{type:"primary",shape:"round",className:"signUpButton",onClick:this.submit},"\u6ce8\u518c"),o.a.createElement("p",null,"\u5982\u679c\u4f60\u6709\u8d26\u53f7\uff0c\u53ef\u4ee5\u7acb\u5373",o.a.createElement(_.a,{to:"/login"}," \u767b\u5f55 ")," \u54e6")))}}]),n}(o.a.Component)),S=n(23),U=(n(226),n(165)),A=(n(317),n(86)),Y=n(322),P=function(e){return{type:"UPDATE_TODO",payload:e}},H=(n(230),n(231),n(164)),F=(n(233),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={countDown:a.props.timer},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;x=setInterval((function(){var t=e.state.countDown;e.setState((function(e){return{countDown:e.countDown-1e3}})),document.title="".concat(e.countDown," - Pomodoro\u756a\u8304\u5de5\u4f5c\u6cd5"),t<1e3&&(e.props.onFinish(),document.title="Pomodoro\u756a\u8304\u5de5\u4f5c\u6cd5",clearInterval(x))}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(x)}},{key:"render",value:function(){var e=1-this.state.countDown/this.props.duration;return o.a.createElement("div",{className:"CountDown",id:"CountDown"},o.a.createElement("span",{className:"restTime"},this.countDown),o.a.createElement("div",{className:"progress",style:{width:"".concat(100*e,"%")}}))}},{key:"countDown",get:function(){var e=Math.floor(this.state.countDown/1e3/60),t=Math.floor(this.state.countDown/1e3%60);return"".concat(e<10?"0".concat(e):e,":").concat(t<10?"0".concat(t):t)}}]),n}(o.a.Component)),L=n(324),K=n(323),W=(n(234),H.a.confirm),B=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onKeyUp=function(e){13===e.keyCode&&""!==a.state.description&&(a.updateTomato({description:a.state.description,ended_at:new Date}),a.setState({description:""}))},a.onFinish=function(){a.forceUpdate()},a.showConfirm=function(){W({title:"\u60a8\u76ee\u524d\u6b63\u5728\u4e00\u4e2a\u756a\u8304\u5de5\u4f5c\u65f6\u95f4\u4e2d,\u8981\u653e\u5f03\u8fd9\u4e2a\u756a\u8304\u5417?",icon:o.a.createElement(L.a,null),content:"\u575a\u6301\u5c31\u662f\u80dc\u5229\u54e6~~",okText:"\u6211\u4e0d\u884c\u4e86",cancelText:"\u7ee7\u7eed\u575a\u6301",onOk:function(){a.abortTomato()},onCancel:function(){console.log("\u5e2e\u60a8\u53d6\u6d88\u756a\u8304\u4e86\u54df")}})},a.abortTomato=function(){a.updateTomato({aborted:!0}),document.title="Pomodoro\u756a\u8304\u5de5\u4f5c\u6cd5"},a.updateTomato=function(){var e=Object(k.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.put("tomatoes/".concat(a.props.unfinishedTomato.id),t);case 3:n=e.sent,a.props.updateTomato(n.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.state={description:""},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",null);if(void 0===this.props.unfinishedTomato)t=o.a.createElement(O.a,{className:"startTomatoButton",onClick:function(){e.props.startTomato()}},"\u5f00\u59cb\u756a\u8304");else{var n=Date.parse(this.props.unfinishedTomato.started_at),a=this.props.unfinishedTomato.duration,r=(new Date).getTime();if(r-n>a)t=o.a.createElement("div",{className:"inputWrapper"},o.a.createElement(y.a,{className:"inputTask",value:this.state.description,placeholder:"\u8bf7\u8f93\u5165\u4f60\u521a\u521a\u5b8c\u6210\u7684\u4efb\u52a1",onChange:function(t){return e.setState({description:t.target.value})},onKeyUp:function(t){return e.onKeyUp(t)}}),o.a.createElement(K.a,{className:"abort",onClick:this.showConfirm}));else if(r-n<a){var c=a-r+n;t=o.a.createElement("div",{className:"countDownWrapper"},o.a.createElement(F,{timer:c,onFinish:this.onFinish,duration:a}),o.a.createElement(K.a,{className:"abort",onClick:this.showConfirm}))}}return o.a.createElement("div",{className:"TomatoAction",id:"TomatoAction"},t)}}]),n}(a.Component),R=n(29),q=n.n(R),J=(n(278),function(e){return o.a.createElement("div",{className:"TomatoItem"},o.a.createElement("span",{className:"timeRange"}," ",q()(e.started_at).format("HH:mm")," - ",q()(e.ended_at).format("HH:mm")," "),o.a.createElement("span",{className:"taskDescription"}," ",e.description," "))}),z=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.dates.map((function(t){var n=e.props.finishedTomatoes[t];return o.a.createElement("div",{key:t,className:"dailyTomato"},o.a.createElement("div",{className:"title"},o.a.createElement("span",{className:"dateTime"}," ",q()(t).format("M\u6708DD\u65e5")," "),o.a.createElement("span",{className:"finishedCount"}," \u5b8c\u6210\u4e86",n.length,"\u4e2a\u756a\u8304 ")),n.map((function(e){return o.a.createElement(J,Object.assign({key:e.id},e))})))}));return o.a.createElement("div",{className:"TomatoList",id:"TomatoList"},t)}},{key:"dates",get:function(){return Object.keys(this.props.finishedTomatoes).sort((function(e,t){return Date.parse(t)-Date.parse(e)})).splice(0,3)}}]),n}(o.a.Component),G=n(63),Q=n.n(G),V=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).startTomato=Object(k.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("tomatoes",{duration:15e5});case 3:t=e.sent,a.props.addTomato(t.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a}return Object(m.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"Tomatoes",id:"Tomatoes"},o.a.createElement(B,{startTomato:this.startTomato,unfinishedTomato:this.unfinishedTomato,updateTomato:this.props.updateTomato}),o.a.createElement(z,{finishedTomatoes:this.finishTomatoes}))}},{key:"unfinishedTomato",get:function(){return this.props.tomatoes.filter((function(e){return!e.description&&!e.ended_at&&!e.aborted}))[0]}},{key:"finishTomatoes",get:function(){var e=this.props.tomatoes.filter((function(e){return e.description&&e.ended_at&&!e.aborted}));return Q.a.groupBy(e,(function(e){return q()(e.started_at).format("YYYY-MM-D")}))}}]),n}(a.Component),$={addTomato:function(e){return{type:"ADD_TOMATO",payload:e}},updateTomato:function(e){return{type:"UPDATE_TOMATO",payload:e}}},X=Object(s.b)((function(e,t){return Object(S.a)({tomatoes:e.tomatoes},t)}),$)(V),Z=n(321),ee=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onKeyUp=function(e){13===e.keyCode&&""!==a.state.description&&a.postTodo()},a.postTodo=Object(k.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("todos",{description:a.state.description});case 3:t=e.sent,a.props.addTodo(t.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:a.setState({description:""});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.state={description:""},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.state.description,n=""===t?o.a.createElement("span",null):o.a.createElement(Z.a,{onClick:this.postTodo});return o.a.createElement("div",{className:"TodoInput",id:"TodoInput"},o.a.createElement(y.a,{placeholder:"\u6dfb\u52a0\u65b0\u4efb\u52a1",value:t,suffix:n,onChange:function(t){return e.setState({description:t.target.value})},onKeyUp:this.onKeyUp}))}}]),n}(o.a.Component),te={addTodo:function(e){return{type:"ADD_TODO",payload:e}}},ne=Object(s.b)((function(e,t){return Object(S.a)({},t)}),te)(ee),ae=(n(280),n(166)),oe=n(2),re=n.n(oe),ce=(n(282),n(325)),se=n(320),ie=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).inputRef=o.a.createRef(),a.updateTodo=function(){var e=Object(k.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.completed&&(t.completed_at=new Date),e.prev=1,e.next=4,N.put("todos/".concat(a.props.id),t);case 4:n=e.sent,a.props.updateTodo(n.data.resource),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.editTodo=function(){a.props.editTodo(a.props.id)},a.onKeyUp=function(e){13===e.keyCode&&""!==a.state.editText&&a.updateTodo({description:a.state.editText})},a.state={editText:a.props.description},a}return Object(m.a)(n,[{key:"componentDidUpdate",value:function(){this.inputRef.current&&this.inputRef.current.focus()}},{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"editing"},o.a.createElement("input",{type:"text",value:this.state.editText,onChange:function(t){return e.setState({editText:t.target.value})},onKeyUp:this.onKeyUp,ref:this.inputRef}),o.a.createElement("div",{className:"iconWrapper"},o.a.createElement(Z.a,{onClick:function(){return e.updateTodo({description:e.state.editText})}}),o.a.createElement(ce.a,{onClick:function(t){return e.updateTodo({deleted:!0})}}))),n=o.a.createElement("span",{className:"text",onClick:function(){return e.updateTodo({completed:!e.props.completed})}},this.props.description,o.a.createElement(se.a,{onClick:function(t){t.stopPropagation(),e.editTodo()}})),a=re()({TodoItem:!0,editing:this.props.editing,completed:this.props.completed});return o.a.createElement("div",{className:a,id:"TodoItem"},o.a.createElement(ae.a,{checked:this.props.completed,onChange:function(t){return e.updateTodo({completed:t.target.checked})}}),this.props.editing?t:n)}}]),n}(o.a.Component),ue={editTodo:function(e){return{type:"EDIT_TODO",payload:e}},updateTodo:P},le=Object(s.b)((function(e,t){return Object(S.a)({},t)}),ue)(ie),de=(n(283),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"Todos",id:"Todos"},o.a.createElement(ne,null),o.a.createElement("div",{className:"todoList"},this.unCompletedTodos.map((function(e){return o.a.createElement(le,Object.assign({key:e.id},e))}))))}},{key:"unDeletedTodos",get:function(){return this.props.todos.filter((function(e){return!e.deleted}))}},{key:"unCompletedTodos",get:function(){return this.unDeletedTodos.filter((function(e){return!e.completed}))}},{key:"completedTodos",get:function(){return this.unDeletedTodos.filter((function(e){return e.completed}))}}]),n}(o.a.Component)),pe={updateTodo:P},me=Object(s.b)((function(e,t){return Object(S.a)({todos:e.todos},t)}),pe)(de),fe=(n(284),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).point=function(){var e=Object.keys(a.props.data).sort((function(e,t){return Date.parse(e)-Date.parse(t)})),t=e[0];if(t){var n,o=(new Date).getTime()-Date.parse(t),r=0,c=e.map((function(e){var c=(Date.parse(e)-Date.parse(t))/o*240,s=60*(1-(r+=a.props.data[e].length)/a.props.totalFinishedCount);return n=s,"".concat(c,",").concat(s)}));return["0,60"].concat(Object(u.a)(c),["240,".concat(n),"240,60"]).join(" ")}return"0,60 240,60"},a}return Object(m.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"Polygon"},o.a.createElement("svg",null,o.a.createElement("polygon",{fill:"rgba(215,78,78,0.1)",stroke:"rgba(215,78,78,0.5)",strokeWidth:"1",points:this.point()})))}}]),n}(o.a.Component)),he=(n(285),n(111)),ve=(n(287),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).updateTodo=function(){var e=Object(k.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.put("todos/".concat(a.props.todo.id),t);case 3:n=e.sent,a.props.updateTodo(n.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(n,[{key:"render",value:function(){var e,t,n=this;return"finished"===this.props.itemType?(t="HH:mm",this.props.todo.updated_at,e=o.a.createElement("div",null,o.a.createElement("span",{onClick:function(){return n.updateTodo({finished:!1})}}," \u6062\u590d "),o.a.createElement("span",{onClick:function(){return n.updateTodo({deleted:!0})}}," \u5220\u9664 "))):"deleted"===this.props.itemType&&(t="YYYY-MM-DD",this.props.todo.created_at,e=o.a.createElement("div",null,o.a.createElement("span",{onClick:function(){return n.updateTodo({deleted:!1})}}," \u6062\u590d "))),o.a.createElement("div",{className:"TodoHistoryTodoItem",id:"TodoHistoryTodoItem"},o.a.createElement("div",{className:"text"},o.a.createElement("span",{className:"time"},q()(this.props.todo.updated_at).format("".concat(t))),o.a.createElement("span",{className:"description"},this.props.todo.description)),o.a.createElement("div",{className:"action"},e))}}]),n}(o.a.Component)),Te={updateTodo:P},be=Object(s.b)((function(e,t){return Object(S.a)({},t)}),Te)(ve),Ee=(n(288),he.a.TabPane),Oe=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.finishedDates.map((function(t){return o.a.createElement("div",{key:t,className:"dailyTodos"},o.a.createElement("div",{className:"summary"},o.a.createElement("p",{className:"date"},o.a.createElement("span",null,q()(t).format("MM\u6708D\u65e5")),o.a.createElement("span",null,"\u5468\u4e94")),o.a.createElement("p",{className:"finishedCount"},"\u5b8c\u6210\u4e86",e.dailyFinishedTodos[t].length,"\u4e2a\u4efb\u52a1")),o.a.createElement("div",{className:"todoList"},e.dailyFinishedTodos[t].map((function(e){return o.a.createElement(be,{key:e.id,todo:e,itemType:"finished"})}))))})),n=this.deletedTodos.map((function(e){return o.a.createElement(be,{key:e.id,todo:e,itemType:"deleted"})}));return o.a.createElement(he.a,{defaultActiveKey:"1"},o.a.createElement(Ee,{tab:"\u5df2\u5b8c\u6210\u4efb\u52a1",key:"1"},o.a.createElement("div",{className:"TodoHistory",id:"TodoHistory"},t)),o.a.createElement(Ee,{tab:"\u5df2\u5220\u9664\u4efb\u52a1",key:"2"},o.a.createElement("div",{className:"TodoHistory",id:"TodoHistory"},n)))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"deletedTodos",get:function(){return this.props.todos.filter((function(e){return e.deleted}))}},{key:"dailyFinishedTodos",get:function(){return Q.a.groupBy(this.finishedTodos,(function(e){return q()(e.updated_at).format("YYYY-MM-D")}))}},{key:"finishedDates",get:function(){return Object.keys(this.dailyFinishedTodos).sort((function(e,t){return Date.parse(t)-Date.parse(e)}))}}]),n}(o.a.Component),ye=Object(s.b)((function(e,t){return Object(S.a)({todos:e.todos},t)}))(Oe),ge=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"Statistics",id:"Statistics"},o.a.createElement("ul",null,o.a.createElement("li",null,"\u7edf\u8ba1"),o.a.createElement("li",null,"\u76ee\u6807"),o.a.createElement("li",null,"\u756a\u8304\u5386\u53f2"),o.a.createElement("li",null,"\u4efb\u52a1\u5386\u53f2 \u7d2f\u8ba1\u5b8c\u6210 ",this.finishedTodos.length," \u4e2a\u4efb\u52a1",o.a.createElement(fe,{data:this.dailyTodos,totalFinishedCount:this.finishedTodos.length}))),o.a.createElement(ye,null))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"dailyTodos",get:function(){return Q.a.groupBy(this.finishedTodos,(function(e){return q()(e.updated_at).format("YYYY-MM-D")}))}}]),n}(o.a.Component),je=Object(s.b)((function(e,t){return Object(S.a)({todos:e.todos},t)}))(ge),ke=(n(307),o.a.createElement(A.a,null,o.a.createElement(A.a.Item,{key:"1"},o.a.createElement(w.a,null),"\u4e2a\u4eba\u8bbe\u7f6e"),o.a.createElement(A.a.Item,{key:"2",onClick:function(){localStorage.setItem("x-token",""),E.push("login")}},o.a.createElement(w.a,null),"\u6ce8\u9500"))),we=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).getTodos=Object(k.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("todos");case 3:t=e.sent,n=t.data.resources.map((function(e){return Object.assign({},e,{editing:!1})})),a.props.initTodos(n),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.getTomatoes=Object(k.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("tomatoes");case 3:t=e.sent,a.props.initTomatoes(t.data.resources),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.getMe=Object(k.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("me");case 2:t=e.sent,a.setState({user:t.data});case 4:case"end":return e.stop()}}),e)}))),a.state={user:{}},a}return Object(m.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=Object(k.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMe();case 2:return e.next=4,this.getTodos();case 4:return e.next=6,this.getTomatoes();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"Home",id:"Home"},o.a.createElement("header",null,o.a.createElement("span",{className:"logo"},"LOGO"),o.a.createElement(U.a,{className:"user",overlay:ke},o.a.createElement("span",null,this.state.user&&this.state.user.account," ",o.a.createElement(Y.a,{style:{marginLeft:2}})))),o.a.createElement("main",null,o.a.createElement(X,null),o.a.createElement(me,null)),o.a.createElement(je,null))}}]),n}(o.a.Component),Ce={initTodos:function(e){return{type:"INIT_TODOS",payload:e}},initTomatoes:function(e){return{type:"INIT_TOMATOES",payload:e}}},De=Object(s.b)((function(e,t){return Object(S.a)({},t)}),Ce)(we),xe=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return o.a.createElement(v.b,{history:E},o.a.createElement("div",null,o.a.createElement(v.a,{exact:!0,path:"/",component:De}),o.a.createElement(v.a,{path:"/signup",component:M}),o.a.createElement(v.a,{path:"/login",component:I})))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(s.a,{store:d},o.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[168,1,2]]]);
//# sourceMappingURL=main.8ffdc872.chunk.js.map